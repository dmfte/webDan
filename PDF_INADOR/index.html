<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encuadernillador - PDF-inador</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="../assets/css/nav.css">
    <script src="../assets/js/pdf-lib.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
</head>
<body>
    <!-- Folder tabs -->
    <div class="tabs-container">
        <div class="tab active">Encuadernillador</div>
    </div>

    <!-- Booklet counter (floating top-right) -->
    <div class="booklet-counter" id="bookletCounter">0</div>

    <!-- Mobile top bar -->
    <div class="mobile-top-bar">
        <div class="mobile-buttons">
            <label for="pdfInput" class="btn btn-load">Cargar PDF</label>
            <input type="file" id="pdfInput" accept="application/pdf" style="display: none;">
            <button class="btn btn-download" id="downloadBtn">Descargar PDF</button>
        </div>
        <button class="hamburger" id="hamburgerBtn">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </div>

    <!-- Main container -->
    <div class="main-container">
        <!-- Preview area -->
        <div class="preview-container">
            <canvas id="previewCanvas"></canvas>
            <div class="preview-placeholder" id="previewPlaceholder">
                Cargue un PDF para ver la vista previa
            </div>
        </div>

        <!-- Control panel (desktop sidebar / mobile menu) -->
         <div id="controlPanelOverlay" class="control-panel-overlay"></div>
        <div class="control-panel" id="controlPanel">
            <div class="controls-inner">
                <!-- Desktop-only buttons -->
                <div class="desktop-buttons">
                    <label for="pdfInputDesktop" class="btn btn-load">Cargar PDF</label>
                    <input type="file" id="pdfInputDesktop" accept="application/pdf" style="display: none;">
                    <button class="btn btn-download" id="downloadBtnDesktop">Descargar PDF</button>
                </div>

                <!-- Page size -->
                <div class="control-group">
                    <label for="pageSize">Tamaño de página</label>
                    <select id="pageSize" class="control-input">
                        <option value="carta">Carta</option>
                        <option value="oficio">Oficio</option>
                    </select>
                </div>

                <!-- Pliegos por cuadernillo -->
                <div class="control-group">
                    <label for="signaturesPerBooklet">Pliegos por cuadernillo</label>
                    <input type="number" id="signaturesPerBooklet" class="control-input" value="5" min="1" step="1">
                </div>

                <!-- Espacio en medio del pliego -->
                <div class="control-group">
                    <label for="gutterSpace">Espacio en medio del pliego (cm)</label>
                    <input type="number" id="gutterSpace" class="control-input" value="0.5" min="0" step="0.01">
                </div>

                <!-- Margen horizontal -->
                <div class="control-group">
                    <label for="marginH">Margen horizontal (cm)</label>
                    <input type="number" id="marginH" class="control-input" value="1.0" min="0" step="0.01">
                </div>

                <!-- Margen vertical -->
                <div class="control-group">
                    <label for="marginV">Margen vertical (cm)</label>
                    <input type="number" id="marginV" class="control-input" value="1.0" min="0" step="0.1">
                </div>

                <!-- Escala -->
                <div class="control-group">
                    <label for="scale">Escala (%)</label>
                    <input type="number" id="scale" class="control-input" value="25.00" min="5" max="50" step="0.01">
                </div>

                <!-- Líneas de corte -->
                <div class="control-group checkbox-group">
                    <label>
                        <input type="checkbox" id="scissorLines" checked>
                        <span>Líneas de corte alrededor</span>
                    </label>
                </div>

                <!-- Generate button -->
                <div class="control-group">
                    <button class="btn btn-generate" id="generateBtn">Generar Cuadernillo</button>
                </div>
            </div>
        </div>
    </div>

    <script src="index.js"></script>
</body>
</html>
